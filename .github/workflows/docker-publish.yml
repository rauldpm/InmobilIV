name: Docker image 

on:
    push:
        paths:
            - 'Dockerfile'

jobs:
    push:
        runs-on: ubuntu-latest

        steps:
            - uses: actions/checkout@v2

            -
              name: Docker buildx
              uses: docker/setup-buildx-action@v1

            -
              name: LOGIN
              uses: docker/login-action@v1
              with:
                registry: ghcr.io
                username: ${{ secrets.DOCKER_USER }}
                password: ${{ secrets.DOCKER_PASS }}

            -
              name: BUILD and PUSH
              uses: docker/build-push-action@v2
              with:
                tags: ghcr.io/rauldpm/inmobiliv/inmobiliv-con:latest
                push: true